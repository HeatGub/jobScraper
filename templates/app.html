<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plot and Table</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='app.css') }}">
  {{ resources|safe }}
</head>

<body>

  <div id="mainContainer">

    <!-- TEST BROWSER -->
    <div class="categoryContainer">
      <div class="categoryShowHideDiv">TEST BROWSER</div>
        <div class="categoryContent">
          <button id="openBrowserButton">open test browser</button>
          <div id="openBrowserOutput">output text</div>

          <button id="saveCookiesToJsonButton" >update cookies.json</button>
          <div id="saveCookiesToJsonOutput">output text</div>
        </div>
    </div>

    <!-- SCRAPING CONTAINER  -->
    <div class="categoryContainer">
      <div class="categoryShowHideDiv">SCRAPING BROWSERS</div>
        <div class="categoryContent">
          <div id="fullScrapingDivsContainer"></div>
          <button id="addNewProcessButton">ADD NEW PROCESS</button>
        </div>
    </div>

    <!-- FORM -->
    <div class="categoryContainer">
      <div class="categoryShowHideDiv">QUERY TOOL</div>
        <div class="categoryContent">

          <form id="mainForm">
            <table>
              <thead>
                <tr>
                  <th scope="col">parameter (hover for description)</th>
                  <th scope="col">show in table <p class="checkUncheckAll">UNCHECK ALL</p>
                  </th>
                  <th scope="col">necessary</th>
                  <th scope="col">forbidden</th>
                  <th scope="col">above</th>
                  <th scope="col">below</th>
                </tr>
              </thead>
              {% for columnDict in databaseColumns %}
              <tr>
                <td title="{{columnDict.description}}">{{columnDict.displayName}}</td>
                <td><input type="checkbox" class="ckeckBox" checked="checked" name={{columnDict.dbColumnName}}Show></td>
                {% if columnDict.dbColumnName != "salaryMin" and columnDict.dbColumnName != "salaryMax" %}
                <!-- oninput="this.size = this.value.length" makes it resize, but it might be unnecessary -->
                <td><input type="text" placeholder="necessary phrase" name={{columnDict.dbColumnName}}Necessary></td>
                <td><input type="text" placeholder="forbidden phrase" name={{columnDict.dbColumnName}}Forbidden></td>
                {% elif columnDict.dbColumnName == "salaryMin" or columnDict.dbColumnName == "salaryMax" %}
                <td></td>
                <td></td>
                {% endif %}
                {% if columnDict.dbColumnName == "datetimeFirst" or columnDict.dbColumnName == "datetimeLast" %}
                <td><input type="datetime-local" placeholder="above" name={{columnDict.dbColumnName}}Above></td>
                <td><input type="datetime-local" placeholder="below" name={{columnDict.dbColumnName}}Below></td>
                {% elif columnDict.dbColumnName == "salaryMin" or columnDict.dbColumnName == "salaryMax" %}
                <td><input type="number" placeholder="4000" name={{columnDict.dbColumnName}}Above></td>
                <td><input type="number" placeholder="10000" name={{columnDict.dbColumnName}}Below></td>
                {% endif %}
              </tr>
              {% endfor %}
            </table>
            <!-- <div class="fetchDiv"> -->
              <input type="submit" value="submit" id="sendFormAndFetchBokehButton">
              <div id="sendFormAndFetchBokehOutput"></div>
            <!-- </div> -->
          </form>

        </div>
    </div>

    <!-- QUERY -->
    <div class="categoryContainer">
      <div class="categoryShowHideDiv">QUERY STRING</div>
        <div class="categoryContent">
          <span contenteditable="true" id="queryDiv" spellcheck="false"></span>
        </div>
    </div>

    <!-- RESULTS & DOWNLOAD CSV -->
    <div class="categoryContainer">
      <div class="categoryShowHideDiv">RESULTS & DOWNLOAD</div>
        <div class="categoryContent">
          <h1 id="resultsAmount"></h1>
          <a id="downloadCsv" href="{{ url_for('downloadCsvEndpoint') }}" class="btn"></a>
        </div>
    </div>

    <!-- PLOT -->
    <div class="categoryContainer">
      <div class="categoryShowHideDiv">PLOT</div>
        <div class="categoryContentBokeh">
          <div id="plotDiv"></div>
        </div>
    </div>

    <!-- TABLE -->
    <div class="categoryContainer">
      <div class="categoryShowHideDiv">TABLE</div>
        <div class="categoryContentBokeh">
          <div id="tableDiv"></div>
        </div>
    </div>
    
  </div> <!--mainContainer -->

  <script src="{{ url_for('static', filename='app.js') }}"></script>

</body>

</html>